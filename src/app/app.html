<div class="app-shell" [class.sidebar-collapsed]="sidebarCollapsed()">
  <!-- Sidebar Navigation -->
  <nav class="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <span class="logo-icon">🎓</span>
        @if (!sidebarCollapsed()) {
          <span class="logo-text">SA&amp;D 教學系統</span>
        }
      </div>
      <button class="toggle-btn" (click)="toggleSidebar()" title="收合選單">
        {{ sidebarCollapsed() ? '▶' : '◀' }}
      </button>
    </div>

    <ul class="nav-menu">
      <li>
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <span class="nav-icon">🏠</span>
          @if (!sidebarCollapsed()) {
            <span class="nav-label">首頁總覽</span>
          }
        </a>
      </li>

      @if (!sidebarCollapsed()) {
        <li class="nav-section">系統分析文件</li>
      }

      <li>
        <a routerLink="/use-case" routerLinkActive="active">
          <span class="nav-icon">📋</span>
          @if (!sidebarCollapsed()) {
            <span class="nav-label">Use Case 圖</span>
          }
        </a>
      </li>
      <li>
        <a routerLink="/class-diagram" routerLinkActive="active">
          <span class="nav-icon">🏗️</span>
          @if (!sidebarCollapsed()) {
            <span class="nav-label">Class Diagram</span>
          }
        </a>
      </li>
      <li>
        <a routerLink="/collaboration" routerLinkActive="active">
          <span class="nav-icon">🤝</span>
          @if (!sidebarCollapsed()) {
            <span class="nav-label">Collaboration 圖</span>
          }
        </a>
      </li>
      <li>
        <a routerLink="/sequence" routerLinkActive="active">
          <span class="nav-icon">⏱️</span>
          @if (!sidebarCollapsed()) {
            <span class="nav-label">Sequence 圖</span>
          }
        </a>
      </li>
      <li>
        <a routerLink="/architecture" routerLinkActive="active">
          <span class="nav-icon">🖥️</span>
          @if (!sidebarCollapsed()) {
            <span class="nav-label">系統架構圖</span>
          }
        </a>
      </li>

      @if (!sidebarCollapsed()) {
        <li class="nav-section">實作結果</li>
      }

      <li>
        <a routerLink="/demo" routerLinkActive="active" class="demo-link">
          <span class="nav-icon">🚀</span>
          @if (!sidebarCollapsed()) {
            <span class="nav-label">Live Demo</span>
          }
        </a>
      </li>
    </ul>

    @if (!sidebarCollapsed()) {
      <div class="sidebar-footer">
        <div class="footer-info">Angular 21 + TypeScript</div>
        <div class="footer-info">Design Patterns Demo</div>
      </div>
    }
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <router-outlet />
  </main>
</div>
