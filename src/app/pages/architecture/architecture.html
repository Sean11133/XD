<div class="page">
  <h2 class="page-title">ğŸ–¥ï¸ System Architecture â€” ç³»çµ±æ¶æ§‹åœ–</h2>

  <!-- æ¦‚å¿µèªªæ˜ -->
  <section class="concept-section">
    <h3 class="section-title">ğŸ“– ä»€éº¼æ˜¯ System Architecture Diagramï¼Ÿ</h3>
    <div class="info-card">
      <p>
        System Architecture Diagramï¼ˆç³»çµ±æ¶æ§‹åœ–ï¼‰æ˜¯ä¸€å¼µé³¥ç°å…¨å±€çš„åœ–ï¼Œå±•ç¤ºç³»çµ±ä¸­çš„
        <strong>Clientã€Serverã€Databaseã€Network Node</strong> ç­‰é‡è¦åŸºç¤è¨­æ–½èˆ‡ç¶²è·¯é—œä¿‚ï¼Œ
        è®“æ‰€æœ‰äººä¸€è¦½æ•´å€‹ç³»çµ±çš„é‹ä½œæ–¹å¼ã€‚
      </p>
      <ul>
        <li>âœ… å±•ç¤ºç³»çµ±çš„éƒ¨ç½²æ¶æ§‹èˆ‡æ‹“æ’²</li>
        <li>âœ… èªªæ˜ Client/Server ä¹‹é–“çš„é€šè¨Šæ–¹å¼</li>
        <li>âœ… æ¨™ç¤ºé‡è¦çš„æŠ€è¡“é¸å‹ï¼ˆæ¡†æ¶ã€è³‡æ–™åº«ã€å”å®šç­‰ï¼‰</li>
        <li>âœ… æä¾›é–‹ç™¼åœ˜éšŠèˆ‡ç‡Ÿé‹åœ˜éšŠå…±åŒçš„æºé€šåŸºç¤</li>
      </ul>
    </div>
  </section>

  <!-- ç³»çµ±æ¶æ§‹åœ– -->
  <section class="diagram-section">
    <h3 class="section-title">ğŸ“Š é›²ç«¯æª”æ¡ˆç®¡ç†ç³»çµ± â€” System Architecture</h3>
    <div class="diagram-container">
      <app-mermaid-diagram [definition]="architectureDiagram" />
    </div>
  </section>

  <!-- æ¶æ§‹èªªæ˜ -->
  <section class="arch-details">
    <h3 class="section-title">ğŸ“ æ¶æ§‹åˆ†å±¤èªªæ˜</h3>
    <div class="layer-grid">
      <div class="layer-card client">
        <h4>ğŸ“± Client Layer</h4>
        <p>
          ä½¿ç”¨è€…é€šéç€è¦½å™¨å­˜å–ç³»çµ±ã€‚Angular ç·¨è­¯å¾Œçš„ SPA åœ¨ç€è¦½å™¨ä¸­åŸ·è¡Œï¼Œ æ‰€æœ‰ UI
          äº’å‹•ï¼ˆé»æ“Šã€è¼¸å…¥ï¼‰é€é Angular çš„äº‹ä»¶ç¶å®šè™•ç†ã€‚
        </p>
        <div class="tech-tags">
          <span class="tech-tag">HTML5</span>
          <span class="tech-tag">CSS/SCSS</span>
          <span class="tech-tag">TypeScript</span>
        </div>
      </div>

      <div class="layer-card app">
        <h4>âš™ï¸ Application Layer</h4>
        <p>
          Angular SPA çš„æ ¸å¿ƒå±¤ã€‚æ¡ç”¨ <strong>GoF ä¸‰å¤§åˆ†é¡</strong>ï¼ˆCreational / Structural /
          Behavioralï¼‰ çµ±ä¸€çµ„ç¹” <code>models/</code> èˆ‡ <code>services/</code>ï¼š çµæ§‹å‹æ”¾ç½®
          Composite ç¯€é»æ¨¡å‹èˆ‡æª”æ¡ˆç³»çµ±æœå‹™ï¼› è¡Œç‚ºå‹æ”¾ç½® Commandã€Strategyã€Visitorã€Observer
          çš„ä»‹é¢èˆ‡å¯¦ä½œï¼Œä»¥åŠ CommandHistoryã€SearchSubject æœå‹™ã€‚ æ‰€æœ‰é é¢å…ƒä»¶é€é Lazy Loading
          æŒ‰éœ€è¼‰å…¥ã€‚
        </p>
        <div class="tech-tags">
          <span class="tech-tag">Angular 21</span>
          <span class="tech-tag">Signals</span>
          <span class="tech-tag">RxJS</span>
          <span class="tech-tag">GoF ä¸‰å¤§åˆ†é¡</span>
          <span class="tech-tag">Lazy Loading</span>
        </div>
      </div>

      <div class="layer-card backend">
        <h4>â˜ï¸ Backend / Infrastructure</h4>
        <p>
          ç›®å‰ç³»çµ±ç‚ºç´”å‰ç«¯ SPAï¼Œè³‡æ–™å…§å»ºæ–¼ Service ä¸­ã€‚æœªä¾†å¯æ“´å±•ç‚ºå…·æœ‰ REST API çš„å…¨ç«¯æ¶æ§‹ï¼Œ
          æ­é…è³‡æ–™åº«æŒä¹…åŒ–æª”æ¡ˆçµæ§‹ã€é›²ç«¯æª”æ¡ˆå„²å­˜èˆ‡èº«ä»½é©—è­‰ã€‚
        </p>
        <div class="tech-tags">
          <span class="tech-tag dimmed">REST API</span>
          <span class="tech-tag dimmed">Database</span>
          <span class="tech-tag dimmed">Cloud Storage</span>
          <span class="tech-tag dimmed">Auth</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Design Patterns åœ¨æ¶æ§‹ä¸­çš„ä½ç½® -->
  <section class="patterns-in-arch">
    <h3 class="section-title">ğŸ§© è¨­è¨ˆæ¨¡å¼åœ¨æ¶æ§‹ä¸­çš„ä½ç½®</h3>
    <div class="info-card">
      <table class="arch-table">
        <thead>
          <tr>
            <th>æ‰€å±¬è³‡æ–™å¤¾</th>
            <th>è¨­è¨ˆæ¨¡å¼</th>
            <th>å¯¦ä½œé¡åˆ¥ / ä»‹é¢</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>models/structural/</td>
            <td><span class="pattern-badge">Composite</span></td>
            <td>FileSystemNode / Directory / WordFile / ImageFile / TextFile</td>
          </tr>
          <tr>
            <td>models/behavioral/</td>
            <td><span class="pattern-badge">Visitor</span></td>
            <td>IVisitorï¼ˆä»‹é¢ï¼‰/ accept() â€” Double Dispatch</td>
          </tr>
          <tr>
            <td>models/behavioral/</td>
            <td><span class="pattern-badge">Visitor</span></td>
            <td>XmlExportVisitor / ExtensionSearchVisitor</td>
          </tr>
          <tr>
            <td>models/behavioral/</td>
            <td><span class="pattern-badge">Command</span></td>
            <td>ICommand / SortCommand / DeleteCommand / TagCommand</td>
          </tr>
          <tr>
            <td>models/behavioral/</td>
            <td><span class="pattern-badge">Strategy</span></td>
            <td>ISortStrategy / SortByName / Size / Extension / Tag</td>
          </tr>
          <tr>
            <td>models/behavioral/</td>
            <td><span class="pattern-badge">Observer</span></td>
            <td>SearchEventï¼ˆäº‹ä»¶è³‡æ–™æ¨¡å‹ï¼‰</td>
          </tr>
          <tr>
            <td>services/structural/</td>
            <td><span class="pattern-badge">Composite</span></td>
            <td>FileSystemService â€” å»ºæ¨¹ã€è¨ˆç®—ã€åŒ¯å‡ºã€æœå°‹</td>
          </tr>
          <tr>
            <td>services/behavioral/</td>
            <td><span class="pattern-badge">Command</span></td>
            <td>CommandHistory â€” Invokerï¼ˆUndo / Redoï¼‰</td>
          </tr>
          <tr>
            <td>services/behavioral/</td>
            <td><span class="pattern-badge">Observer</span></td>
            <td>SearchSubjectService â€” RxJS Subject</td>
          </tr>
          <tr>
            <td>pages/demo/</td>
            <td><span class="pattern-badge">Observer</span></td>
            <td>Demo Component â€” subscribe â†’ onSearchEvent()</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <div class="page-nav">
    <a routerLink="/sequence" class="nav-link">â† Sequence Diagram</a>
    <a routerLink="/demo" class="nav-link">å‰å¾€ Live Demo â†’</a>
  </div>
</div>
